<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>判断一个时间是否在某一个时间段内</title>
  </head>

  <body>
    <script>
      /**
       * @description: 获取当前时间
       * @return {*}
       */
      function getCurentTime () {
        const date = new Date()
        // 获取完整的年份(4位,1970)
        const year = date.getFullYear()
        // 获取月份(0-11,0代表1月,用的时候记得加上1)
        const month =
          date.getMonth() + 1 > 9
            ? date.getMonth() + 1
            : '0' + (date.getMonth() + 1)
        // 获取日(01-31)
        const day = date.getDate() > 9 ? date.getDate() : '0' + date.getDate()
        // 获取小时数(0-23)
        const hours =
          date.getHours() > 9 ? date.getHours() : '0' + date.getHours()
        // 获取分钟数(0-59)
        const minutes =
          date.getMinutes() > 9 ? date.getMinutes() : '0' + date.getMinutes()
        // 获取秒(0-59)
        const seconds =
          date.getSeconds() > 9 ? date.getSeconds() : '0' + date.getSeconds()

        return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`
      }

      /**
       * @description: 比较时间大小
       * @param {*} date1 第一个时间
       * @param {*} date2 第二个时间
       * @return {*} 0: 两个时间相同  1: date1 大于 date2   2: date1 小于 date2
       */
      function compareTime (date1, date2) {
        const oDate1 = new Date(date1)
        const oDate2 = new Date(date2)

        if (oDate1.getTime() > oDate2.getTime()) {
          return 1
        } else if (oDate1.getTime() < oDate2.getTime()) {
          return 2
        } else if (oDate1.getTime() == oDate2.getTime()) {
          return 0
        }
      }

      /**
       * @description: 判断一个时间是否是在某一段时间内
       * @param {*} stratTime 开始时间
       * @param {*} endTime 结束时间
       * @param {*} targetTime 目标时间，需要判断的时间
       * @return {*}
       */
      function periodOfTime (stratTime, endTime, targetTime) {
        // 处理默认 targetTime
        if (!targetTime) {
          targetTime = getCurentTime()
        }

        // 用 targetTime 和这两个时间做对比就行
        const timeOne = compareTime(targetTime, stratTime)
        const timeTwo = compareTime(targetTime, endTime)

        if (timeOne == 1 && timeTwo == 2) {
          console.log('在这个时间段内')
          return true
        } else {
          console.log('不在这个时间段内')
          return false
        }
      }

      periodOfTime('2022-12-31 00:00:00', '2023-12-30 00:00:00')


    </script>
  </body>

</html>