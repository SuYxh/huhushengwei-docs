<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      body {
        width: 100%;
        height: 200vh;
        background-color: #eee;
      }
    </style>
  </head>

  <body>
    <script>
      
      // 防抖
      function debounce (fn, delay) {
        let timer = null
        return function () {
          timer && clearTimeout(timer)
          timer = setTimeout(() => {
            fn.call(this, arguments)
          }, delay)
        }
      }

      // 节流
      function throttle (fn, delay) {
        let lastTime = 0
        return function () {
          let nowTime = Date.now()
          if (nowTime > lastTime + delay) {
            fn.call(this, arguments)
            lastTime = nowTime
          }
        }
      }

      function throttleSetTimeOut (fn, delay) {
        let timer = null
        return function () {
          if (!timer) {
            fn.call(this, arguments)
            setTimeout(() => {
              timer = null
            }, delay);
          }
        }
      }

      // window.addEventListener(
      //   'scroll',
      //   debounce(() => {
      //     console.log('debounce')
      //   }, 500)
      // )


      // window.addEventListener(
      //   'scroll',
      //   throttle(() => {
      //     console.log('throttle')
      //   }, 300)
      // )

    </script>
  </body>

</html>