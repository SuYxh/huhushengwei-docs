import{_ as n,e as s,o as a,Q as t}from"./plugin-vue_export-helper.8dc630d2.js";const _='{"title":"HTTP \u8BF7\u6C42\u8DE8\u57DF\u95EE\u9898","description":"","frontmatter":{},"headers":[{"level":3,"title":"HTTP \u8BF7\u6C42\u8DE8\u57DF\u95EE\u9898","slug":"http-\u8BF7\u6C42\u8DE8\u57DF\u95EE\u9898"}],"relativePath":"network/http/2.HTTP \u8BF7\u6C42\u8DE8\u57DF\u95EE\u9898.md","lastUpdated":1673402675651}',o={},p=t(`__VP_STATIC_START__<h3 id="http-\u8BF7\u6C42\u8DE8\u57DF\u95EE\u9898">HTTP \u8BF7\u6C42\u8DE8\u57DF\u95EE\u9898</h3><ol><li><p>\u8DE8\u57DF\u7684\u539F\u7406</p><p><strong>\u8DE8\u57DF</strong>\uFF0C\u662F\u6307\u6D4F\u89C8\u5668\u4E0D\u80FD\u6267\u884C\u5176\u4ED6\u7F51\u7AD9\u7684\u811A\u672C\u3002\u5B83\u662F\u7531\u6D4F\u89C8\u5668\u7684<code>\u540C\u6E90\u7B56\u7565</code>\u9020\u6210\u7684\u3002 <strong>\u540C\u6E90\u7B56\u7565</strong>,\u662F\u6D4F\u89C8\u5668\u5BF9 JavaScript \u5B9E\u65BD\u7684\u5B89\u5168\u9650\u5236\uFF0C\u53EA\u8981<code>\u534F\u8BAE\u3001\u57DF\u540D\u3001\u7AEF\u53E3</code>\u6709\u4EFB\u4F55\u4E00\u4E2A\u4E0D\u540C\uFF0C\u90FD\u88AB\u5F53\u4F5C\u662F\u4E0D\u540C\u7684\u57DF\u3002 <strong>\u8DE8\u57DF\u539F\u7406</strong>\uFF0C\u5373\u662F\u901A\u8FC7\u5404\u79CD\u65B9\u5F0F\uFF0C<code>\u907F\u5F00\u6D4F\u89C8\u5668\u7684\u5B89\u5168\u9650\u5236</code>\u3002</p></li><li><p>\u89E3\u51B3\u65B9\u6848</p><p>\u6700\u521D\u505A\u9879\u76EE\u7684\u65F6\u5019\uFF0C\u4F7F\u7528\u7684\u662Fjsonp\uFF0C\u4F46\u5B58\u5728\u4E00\u4E9B\u95EE\u9898\uFF0C\u4F7F\u7528get\u8BF7\u6C42\u4E0D\u5B89\u5168\uFF0C\u643A\u5E26\u6570\u636E\u8F83\u5C0F\uFF0C\u540E\u6765\u4E5F\u7528\u8FC7iframe\uFF0C\u4F46\u53EA\u6709\u4E3B\u57DF\u76F8\u540C\u624D\u884C\uFF0C\u4E5F\u662F\u5B58\u5728\u4E9B\u95EE\u9898\uFF0C\u540E\u6765\u901A\u8FC7\u4E86\u89E3\u548C\u5B66\u4E60\u53D1\u73B0\u4F7F\u7528\u4EE3\u7406\u548Cproxy\u4EE3\u7406\u914D\u5408\u8D77\u6765\u4F7F\u7528\u6BD4\u8F83\u65B9\u4FBF\uFF0C\u5C31\u5F15\u5BFC\u540E\u53F0\u6309\u8FD9\u79CD\u65B9\u5F0F\u505A\u4E0B\u670D\u52A1\u5668\u914D\u7F6E\uFF0C\u5728\u5F00\u53D1\u4E2D\u4F7F\u7528proxy\uFF0C\u5728\u670D\u52A1\u5668\u4E0A\u4F7F\u7528nginx\u4EE3\u7406\uFF0C\u8FD9\u6837\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u5F7C\u6B64\u90FD\u65B9\u4FBF\uFF0C\u6548\u7387\u4E5F\u9AD8\uFF1B\u73B0\u5728h5\u65B0\u7279\u6027\u8FD8\u6709 windows.postMessage()</p><ul><li><p><strong>JSONP</strong>\uFF1A ajax \u8BF7\u6C42\u53D7\u540C\u6E90\u7B56\u7565\u5F71\u54CD\uFF0C\u4E0D\u5141\u8BB8\u8FDB\u884C\u8DE8\u57DF\u8BF7\u6C42\uFF0C\u800C script \u6807\u7B7E src \u5C5E\u6027\u4E2D\u7684\u94FE \u63A5\u5374\u53EF\u4EE5\u8BBF\u95EE\u8DE8\u57DF\u7684 js \u811A\u672C\uFF0C\u5229\u7528\u8FD9\u4E2A\u7279\u6027\uFF0C\u670D\u52A1\u7AEF\u4E0D\u518D\u8FD4\u56DE JSON \u683C\u5F0F\u7684\u6570\u636E\uFF0C\u800C\u662F \u8FD4\u56DE\u4E00\u6BB5\u8C03\u7528\u67D0\u4E2A\u51FD\u6570\u7684 js \u4EE3\u7801\uFF0C\u5728 src \u4E2D\u8FDB\u884C\u4E86\u8C03\u7528\uFF0C\u8FD9\u6837\u5B9E\u73B0\u4E86\u8DE8\u57DF\u3002</p><p>\u6B65\u9AA4\uFF1A</p><ol><li><p>\u53BB\u521B\u5EFA\u4E00\u4E2Ascript\u6807\u7B7E</p></li><li><p>script\u7684src\u5C5E\u6027\u8BBE\u7F6E\u63A5\u53E3\u5730\u5740</p></li><li><p>\u63A5\u53E3\u53C2\u6570\uFF0C\u5FC5\u987B\u8981\u5E26\u4E00\u4E2A\u81EA\u5B9A\u4E49\u51FD\u6570\u540D\uFF0C\u8981\u4E0D\u7136\u540E\u53F0\u65E0\u6CD5\u8FD4\u56DE\u6570\u636E</p></li><li><p>\u901A\u8FC7\u5B9A\u4E49\u51FD\u6570\u540D\u53BB\u63A5\u53D7\u8FD4\u56DE\u7684\u6570\u636E</p><div class="language-js"><pre><code><span class="token comment">//\u52A8\u6001\u521B\u5EFA script</span>
<span class="token keyword">var</span> script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;script&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u8BBE\u7F6E\u56DE\u8C03\u51FD\u6570</span>
<span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//\u8BBE\u7F6E script \u7684 src \u5C5E\u6027\uFF0C\u5E76\u8BBE\u7F6E\u8BF7\u6C42\u5730\u5740</span>
script<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&#39;http://localhost:3000/?callback=getData&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// \u8BA9 script \u751F\u6548</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>script<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol></li></ul></li></ol><p><strong>JSONP \u7684\u7F3A\u70B9</strong>: JSON \u53EA\u652F\u6301 get\uFF0C\u56E0\u4E3A script \u6807\u7B7E\u53EA\u80FD\u4F7F\u7528 get \u8BF7\u6C42\uFF1B JSONP \u9700\u8981\u540E\u7AEF\u914D\u5408\u8FD4\u56DE\u6307\u5B9A\u683C\u5F0F\u7684\u6570\u636E\u3002</p><ul><li><strong>document.domain</strong> \u57FA\u7840\u57DF\u540D\u76F8\u540C \u5B50\u57DF\u540D\u4E0D\u540C</li><li><strong><a href="http://window.name" target="_blank" rel="noopener noreferrer">window.name</a></strong> \u5229\u7528\u5728\u4E00\u4E2A\u6D4F\u89C8\u5668\u7A97\u53E3\u5185\uFF0C<a href="http://xn--window-9m7igl23bo8p1d816aimn1m9awlmujd5y9gz67ew7f.name" target="_blank" rel="noopener noreferrer">\u8F7D\u5165\u6240\u6709\u7684\u57DF\u540D\u90FD\u662F\u5171\u4EAB\u4E00\u4E2Awindow.name</a></li><li><strong>CORS</strong> CORS(Cross-origin resource sharing)\u8DE8\u57DF\u8D44\u6E90\u5171\u4EAB \u670D\u52A1\u5668\u8BBE\u7F6E\u5BF9CORS\u7684\u652F\u6301\u539F\u7406\uFF1A\u670D\u52A1\u5668\u8BBE\u7F6EAccess-Control-Allow-Origin HTTP\u54CD\u5E94\u5934\u4E4B\u540E\uFF0C\u6D4F\u89C8\u5668\u5C06\u4F1A\u5141\u8BB8\u8DE8\u57DF\u8BF7\u6C42</li><li><strong>proxy\u4EE3\u7406</strong> \u76EE\u524D\u5E38\u7528\u65B9\u5F0F,\u901A\u8FC7\u670D\u52A1\u5668\u8BBE\u7F6E\u4EE3\u7406</li><li><strong>window.postMessage()</strong> \u5229\u7528h5\u65B0\u7279\u6027window.postMessage()</li></ul><p>\u8DE8\u57DF\u4F20\u9001\u95E8 \u261E <a href="https://juejin.cn/post/7003232769182547998" target="_blank" rel="noopener noreferrer"># \u8DE8\u57DF\uFF0C\u4E0D\u53EF\u4E0D\u77E5\u7684\u57FA\u7840\u6982\u5FF5</a></p>__VP_STATIC_END__`,5),e=[p];function c(r,l,i,u,d,g){return a(),s("div",null,e)}var m=n(o,[["render",c]]);export{_ as __pageData,m as default};
