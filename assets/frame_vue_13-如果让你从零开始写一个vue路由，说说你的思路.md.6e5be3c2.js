import{o as e,c as t,b as r}from"./app.157864df.js";const l='{"title":"13-如果让你从零开始写一个vue路由，说说你的思路","description":"","frontmatter":{},"headers":[{"level":2,"title":"13-如果让你从零开始写一个vue路由，说说你的思路","slug":"_13-如果让你从零开始写一个vue路由，说说你的思路"},{"level":3,"title":"思路分析：","slug":"思路分析："},{"level":3,"title":"回答范例：","slug":"回答范例："},{"level":3,"title":"知其所以然：","slug":"知其所以然："},{"level":2,"title":"","slug":""}],"relativePath":"frame/vue/13-如果让你从零开始写一个vue路由，说说你的思路.md","lastUpdated":1662083353135}',u={},i=[r('<h2 id="_13-如果让你从零开始写一个vue路由，说说你的思路">13-如果让你从零开始写一个vue路由，说说你的思路</h2><h3 id="思路分析：">思路分析：</h3><p>首先思考vue路由要解决的问题：用户点击跳转链接内容切换，页面不刷新。</p><ul><li>借助hash或者history api实现url跳转页面不刷新</li><li>同时监听hashchange事件或者popstate事件处理跳转</li><li>根据hash值或者state值从routes表中匹配对应component并渲染之</li></ul><hr><h3 id="回答范例：">回答范例：</h3><p>一个SPA应用的路由需要解决的问题是<strong>页面跳转内容改变同时不刷新</strong>，同时路由还需要以插件形式存在，所以：</p><ol><li><p>首先我会定义一个</p><div class="language-"><pre><code>createRouter\n</code></pre></div><p>函数，返回路由器实例，实例内部做几件事：</p><ul><li>保存用户传入的配置项</li><li>监听hash或者popstate事件</li><li>回调里根据path匹配对应路由</li></ul></li><li><p>将router定义成一个Vue插件，即实现install方法，内部做两件事：</p><ul><li>实现两个全局组件：router-link和router-view，分别实现页面跳转和内容显示</li><li>定义两个全局变量：$route和$router，组件内可以访问当前路由和路由器实例</li></ul></li></ol><hr><h3 id="知其所以然：">知其所以然：</h3><ul><li>createRouter如何创建实例</li></ul><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub1s.com%2Fvuejs%2Frouter%2Fblob%2FHEAD%2Fsrc%2Frouter.ts%23L355-L356" target="_blank" rel="noopener noreferrer">github1s.com/vuejs/route…</a></p><ul><li>事件监听</li></ul><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub1s.com%2Fvuejs%2Frouter%2Fblob%2FHEAD%2Fsrc%2Fhistory%2Fhtml5.ts%23L314-L315" target="_blank" rel="noopener noreferrer">github1s.com/vuejs/route…</a> RouterView</p><ul><li>页面跳转RouterLink</li></ul><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub1s.com%2Fvuejs%2Frouter%2Fblob%2FHEAD%2Fsrc%2FRouterLink.ts%23L184-L185" target="_blank" rel="noopener noreferrer">github1s.com/vuejs/route…</a></p><ul><li>内容显示RouterView</li></ul><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub1s.com%2Fvuejs%2Frouter%2Fblob%2FHEAD%2Fsrc%2FRouterView.ts%23L43-L44" target="_blank" rel="noopener noreferrer">github1s.com/vuejs/route…</a></p><hr><h2 id=""></h2>',20)];u.render=function(r,l,u,o,s,a){return e(),t("div",null,i)};export default u;export{l as __pageData};
